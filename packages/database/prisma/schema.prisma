datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  directUrl = env("DIRECT_DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Account {
  address String @id
  name    String
  surname String
}

model Course {
  id            Int               @id @default(autoincrement())
  address        String
  owner          String
  name           String           @default("")
  description    String           @default("")
  symbol         String           @default("")
  image_url      String           @default("")
  website_url    String           @default("")
  access_url     String           @default("")
  ipfs_metadata  String           @default("")
  maxSupply      Int
  burnable       Boolean
  timestamp      Int
  chainId        Int
  karma_access_control_address String
  snapshot_space_ens String @default("red-panda.eth")
  CourseStudents CourseStudents[]
  @@unique([address, chainId])
}

model CourseStudents {
  course         Course @relation(fields: [courseAddress, chainId], references: [address, chainId])
  courseAddress  String
  studentAddress String
  chainId        Int

  @@id([courseAddress, studentAddress])
  @@unique([courseAddress, studentAddress])
}
